{"version":3,"sources":["images/Close_Icon.png","images/Vector.svg","images/Edit_Button.svg","images/Vector_button.svg","contexts/CurrentUserContext.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Header.js","components/Footer.js","components/Card.js","components/Main.js","components/ConfirmDelete.js","components/ImagePopup.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","CurrentUserContext","React","createContext","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","status","fetch","then","_handleCheck","userData","method","body","JSON","stringify","name","about","newCard","link","cardId","isLiked","avatar","url","authorization","PopupWithForm","props","isOpen","title","children","submit","onClose","onSubmit","disabled","isLoading","className","action","type","src","esc","alt","onClick","EditProfilePopup","onUpdateUser","currentUser","useContext","nameRef","useRef","descriptionRef","useState","setName","description","setDescription","nameError","setNameError","descriptionError","setDescriptionError","nameValid","setNameValid","descriptionValid","setDescriptionValid","setDisabled","handleChange","evt","target","value","current","validationMessage","validity","valid","useEffect","formName","preventDefault","htmlFor","ref","id","placeholder","minLength","maxLength","pattern","required","onChange","EditAvatarPopup","onUpdateAvatar","inputRef","urlError","setUrlError","urlValid","setUrlValid","AddPlacePopup","onAddPlace","linkRef","setLink","linkError","setLinkError","linkValid","setLinkValid","Header","logo","Footer","Card","card","onCardClick","onCardLike","onCardDelete","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","length","Main","onEditAvatar","onEditProfile","cards","edit","add","map","key","ConfirmDelete","onConfirmDelete","ImagePopup","App","setCurrentUser","setCards","isConfirmPopupOpen","setConfirmPopupOpen","cardToDelete","setCardToDelete","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","setLoading","isImageOpen","selectedCard","setSelectedCard","handleCardClick","closeAllPopups","all","getInitialCards","getUserInfo","catch","err","console","log","Provider","changeLikeCardStatus","newCards","c","patchUserInfo","newUser","finally","postCard","patchAvatar","deleteCard","filter","item","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","querySelector","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.483bd902.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAADhu0ooAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE8SURBVHgB7dmBacMwEIXhayfwKN2g3aQaJZu0G3SEjpBRMsKLTHIgjFFkWyfpzPtABEKI9JMQTkSEiIiIiIi6ATBJT/EAP/MSQ/H9P+K6xfUtPTwjlUlsEqnaxi4iTWJXIg/Fvss+byvPhVqxc2R8+I9rKtzbTjzML9Ydis18krMgPdSOHTIyOVyV2KEj1dFYF5Fqb6yrSLU11mWkKo11HalexZ4iUmVi/04TqTKx54lUhbFBzuD5de0auXeoL4bHgP6VecmneIf8r2vK9PJuakOk39gXkfO91eSK1xQKhwHXsdg48biMxc6xzlUsDs6uLmJRaUAfOhaVbyFDxsLoqjVULIzvk0PExs0mNLhPZmIv0goe041ZZLLPMvaK1v+sLWKDGEli20cmhwiWkck+F/T+j5SIiIiIiPq6A+E83r5G5qT6AAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/Vector.855a8c98.svg\";","module.exports = __webpack_public_path__ + \"static/media/Edit_Button.c8252db2.svg\";","module.exports = __webpack_public_path__ + \"static/media/Vector_button.bdfb8ebb.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","export class Api {\r\n    constructor(options) {\r\n      this._baseUrl = options.baseUrl;\r\n      this._headers = options.headers;\r\n    }\r\n  \r\n    _handleCheck(res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n  \r\n    getUserInfo() {\r\n      return fetch(`${this._baseUrl}/users/me`, {\r\n        headers: this._headers,\r\n      })\r\n        .then(this._handleCheck)\r\n    }\r\n  \r\n    getInitialCards() {\r\n      return fetch(`${this._baseUrl}/cards`, {\r\n        headers: this._headers,\r\n      }).then(this._handleCheck);\r\n    }\r\n  \r\n    patchUserInfo(userData) {\r\n      return fetch(`${this._baseUrl}/users/me`, {\r\n        method: \"PATCH\",\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          name: userData.name,\r\n          about: userData.about,\r\n        }),\r\n      }).then(this._handleCheck);\r\n    }\r\n  \r\n    postCard(newCard) {\r\n      return fetch(`${this._baseUrl}/cards`, {\r\n        method: \"POST\",\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          name: newCard.name,\r\n          link: newCard.link,\r\n        }),\r\n      }).then(this._handleCheck);\r\n    }\r\n  \r\n    deleteCard(cardId) {\r\n      return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      }).then(this._handleCheck);\r\n    }\r\n  \r\n    changeLikeCardStatus(cardId, isLiked) {\r\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n        method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n        headers: this._headers,\r\n      }).then(this._handleCheck);\r\n    }\r\n  \r\n    patchAvatar(avatar) {\r\n      return fetch(`${this._baseUrl}/users/me/avatar/`, {\r\n        method: \"PATCH\",\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          avatar: avatar.url ,\r\n        }),\r\n      }).then(this._handleCheck);\r\n    }\r\n  }\r\n  \r\n  export const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\r\n    headers: {\r\n      authorization: 'dc3c97d1-1035-4b28-91f1-6584655ffbcb',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  })","import React from 'react'\r\nimport esc from \"../images/Close_Icon.png\";\r\nfunction PopupWithForm(props) {\r\n  const { name, isOpen, title, children, submit, onClose, onSubmit, disabled, isLoading, } = props;\r\n\r\n  return (\r\n    <section className={`popup popup_${name} ${isOpen && 'popup_opened'\r\n      }`}>\r\n      <div className=\"popup__container\">\r\n        <h3 className=\"popup__title\">{title}</h3>\r\n        <form className={`popup__form popup__form_${name}`} action=\"#\" onSubmit={onSubmit}>\r\n          {children}\r\n          <button className=\"popup__button\" type=\"submit\" disabled={disabled}>{isLoading ? `Сохранение...` : submit}</button>\r\n          <button className=\"popup__button-esc\" type=\"button\">\r\n            <img src={esc} alt=\"кнопка закрытия окна редиктирования\" onClick={onClose}\r\n              className=\"popup__esc\" />\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const { isOpen, onClose, onUpdateUser, isLoading } = props;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const nameRef = React.useRef();\r\n  const descriptionRef = React.useRef();\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const [nameError, setNameError] = React.useState('');\r\n  const [descriptionError, setDescriptionError] = React.useState('');\r\n  const [nameValid, setNameValid] = React.useState(false);\r\n  const [descriptionValid, setDescriptionValid] = React.useState(false);\r\n  const [disabled, setDisabled] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  React.useEffect(() => {\r\n    setDisabled(true);\r\n    setNameError('');\r\n    setDescriptionError('');\r\n  }, [isOpen]);\r\n\r\n  React.useEffect(() => {\r\n    nameValid && descriptionValid ? setDisabled(false) : setDisabled(true);\r\n  }, [nameValid, descriptionValid, name, description]);\r\n\r\n  function handleChange(evt) {\r\n    evt.target.name === 'name'\r\n      ? setName(evt.target.value)\r\n      : setDescription(evt.target.value);\r\n\r\n      validation();\r\n  }\r\n\r\n  function validation() {\r\n    setNameError(nameRef.current.validationMessage);\r\n    setDescriptionError(descriptionRef.current.validationMessage);\r\n\r\n    !nameRef.current.validity.valid ? setNameValid(false) : setNameValid(true);\r\n    !descriptionRef.current.validity.valid\r\n      ? setDescriptionValid(false)\r\n      : setDescriptionValid(true);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      formName='user'\r\n      title='Редактировать профиль'\r\n      submit='Сохранить'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      disabled={disabled}\r\n      isLoading={isLoading}\r\n    >\r\n      <label htmlFor='name' className='popup__field'>\r\n        <input\r\n          ref={nameRef}\r\n          type='text'\r\n          className='popup__input'\r\n          id='name'\r\n          name='name'\r\n          value={name || ''}\r\n          placeholder='Имя'\r\n          minLength='2'\r\n          maxLength='40'\r\n          pattern='[А-Яа-яA-Za-z -]{1,}'\r\n          required\r\n          onChange={handleChange}\r\n        />\r\n        <span\r\n          className={`popup__input-error ${!nameValid && 'popup__input-error_active'\r\n            }`}\r\n          id='name-error'\r\n        >\r\n          {nameError}\r\n        </span>\r\n      </label>\r\n      <label htmlFor='about' className='popup__field'>\r\n        <input\r\n          ref={descriptionRef}\r\n          type='text'\r\n          className='popup__input'\r\n          id='about'\r\n          name='about'\r\n          value={description || ''}\r\n          placeholder='О себе'\r\n          minLength='2'\r\n          maxLength='200'\r\n          required\r\n          onChange={handleChange}\r\n        />\r\n        <span\r\n          className={`popup__input-error ${!descriptionValid && 'popup__input-error_active'\r\n            }`}\r\n          id='about-error'\r\n        >\r\n          {descriptionError}\r\n        </span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const { isOpen, onClose, onUpdateAvatar, isLoading } = props;\r\n    const inputRef = React.useRef('');\r\n\r\n\r\n    const [urlError, setUrlError] = React.useState('');\r\n    const [disabled, setDisabled] = React.useState(true);\r\n    const [urlValid, setUrlValid] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        setDisabled(true);\r\n        setUrlError('');\r\n        inputRef.current.value = '';\r\n    }, [isOpen]);\r\n\r\n    React.useEffect(() => {\r\n        urlValid ? setDisabled(false) : setDisabled(true);\r\n    }, [urlValid, inputRef.current.value]);\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        onUpdateAvatar({ url: inputRef.current.value });\r\n    }\r\n\r\n    function validation() {\r\n        setUrlError(inputRef.current.validationMessage);\r\n\r\n        !inputRef.current.validity.valid ? setUrlValid(false) : setUrlValid(true);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name='avatar'\r\n            title='Обновить аватар'\r\n            submit='Сохранить'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            disabled={disabled}\r\n            isLoading={isLoading}\r\n        >\r\n            <label htmlFor='url' className='popup__field'>\r\n                <input\r\n                    ref={inputRef}\r\n                    onChange={validation}\r\n                    type='url'\r\n                    className='popup__input'\r\n                    id='url'\r\n                    name='url'\r\n                    placeholder='Ссылка на аватар'\r\n                    required\r\n                />\r\n                <span className={`popup__input-error ${\r\n            !urlValid && 'popup__input-error_active'\r\n          }`} id='url-error'>{urlError}</span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n    const { isOpen, onClose, onAddPlace, isLoading } = props;\r\n\r\n    const nameRef = React.useRef();\r\n    const linkRef = React.useRef();\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n    const [nameError, setNameError] = React.useState('');\r\n    const [linkError, setLinkError] = React.useState('');\r\n    const [nameValid, setNameValid] = React.useState(false);\r\n    const [linkValid, setLinkValid] = React.useState(false);\r\n    const [disabled, setDisabled] = React.useState(true);\r\n\r\n    React.useEffect(() => {\r\n        setDisabled(true);\r\n        setNameError('');\r\n        setLinkError('');\r\n        setName('');\r\n        setLink('');\r\n    }, [isOpen]);\r\n\r\n    React.useEffect(() => {\r\n        nameValid && linkValid ? setDisabled(false) : setDisabled(true);\r\n    }, [nameValid, linkValid, name, link]);\r\n\r\n    function handleChange(evt) {\r\n        evt.target.name === 'name'\r\n            ? setName(evt.target.value)\r\n            : setLink(evt.target.value);\r\n\r\n        validation();\r\n    }\r\n\r\n    function validation() {\r\n        setNameError(nameRef.current.validationMessage);\r\n        setLinkError(linkRef.current.validationMessage);\r\n\r\n        !nameRef.current.validity.valid ? setNameValid(false) : setNameValid(true);\r\n        !linkRef.current.validity.valid ? setLinkValid(false) : setLinkValid(true);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        onAddPlace({\r\n            name,\r\n            link,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name='photo'\r\n            title='Новое место'\r\n            submit='Создать'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            disabled={disabled}\r\n            isLoading={isLoading}\r\n        >\r\n            <label htmlFor='name' className='popup__field'>\r\n                <input\r\n                    className='popup__input'\r\n                    ref={nameRef}\r\n                    id='name'\r\n                    name='name'\r\n                    value={name || ''}\r\n                    placeholder='Название'\r\n                    minLength='1'\r\n                    maxLength='30'\r\n                    required\r\n                    onChange={handleChange}\r\n                />\r\n                <span\r\n                    className={`popup__input-error ${!nameValid && 'popup__input-error_active'\r\n                        }`}\r\n                    id='name-error'\r\n                >\r\n                    {nameError}\r\n                </span>\r\n            </label>\r\n            <label htmlFor='link' className='popup__field'>\r\n                <input\r\n                    type='url'\r\n                    className='popup__input'\r\n                    ref={linkRef}\r\n                    id='link'\r\n                    name='link'\r\n                    value={link || ''}\r\n                    placeholder='Ссылка на картинку'\r\n                    required\r\n                    onChange={handleChange}\r\n                />\r\n                <span\r\n                    className={`popup__input-error ${!nameValid && 'popup__input-error_active'\r\n                        }`}\r\n                    id='name-error'\r\n                >\r\n                    {linkError}\r\n                </span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react'\r\nimport logo from \"../images/Vector.svg\";\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"лого\" />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__author\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const { card, onCardClick, onCardLike, onCardDelete } = props;\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `element__delete ${isOwn && 'element__delete_active'\r\n    }`;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `element__like ${isLiked && 'element__like_active'\r\n    }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <img className=\"element__image\" src={card.link}\r\n        alt={card.name} onClick={handleClick} />\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n      <div className=\"element__text\">\r\n        <h3 className=\"element__title\">{card.name}</h3>\r\n        <div className=\"element__like-container\">\r\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n          <div className=\"element__like-number\">{card.likes.length}</div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\nimport Card from './Card';\r\nimport edit from \"../images/Edit_Button.svg\";\r\nimport add from \"../images/Vector_button.svg\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const {\r\n    onEditAvatar,\r\n    onEditProfile,\r\n    onAddPlace,\r\n    onCardClick,\r\n    cards,\r\n    onCardLike,\r\n    onCardDelete,\r\n  } = props;\r\n\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__image-container\">\r\n          <img className=\"profile__image\" src={currentUser.avatar}\r\n            onClick={onEditAvatar}\r\n            alt=\"Аватар\" />\r\n        </div>\r\n\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <img className=\"profile__button-edit\" src={edit} alt=\"редактирование кнопки\" onClick={onEditProfile}\r\n          />\r\n          <h3 className=\"profile__subtitle\">{currentUser.about}</h3>\r\n        </div>\r\n        <button className=\"profile__button\" type=\"button\" onClick={onAddPlace}>\r\n          <img src={add} alt=\"кнопка '+'\" />\r\n        </button>\r\n      </section>\r\n      <ul className=\"elements\">\r\n        {cards.map((card) => (\r\n          <Card key={card._id} card={card} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmDelete(props) {\r\n  const { isOpen, onClose, onConfirmDelete, isLoading } = props;\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onConfirmDelete();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      formName='delete'\r\n      title='Вы уверены?'\r\n      submit='Да'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default ConfirmDelete;","import React from 'react';\r\nimport esc from \"../images/Close_Icon.png\";\r\nfunction ImagePopup(props) {\r\n    const { name, link, isOpen, onClose } = props;\r\n\r\n    return (\r\n        <section className={`popup ${isOpen && 'popup_opened'}`}>\r\n            <section className=\"popup__figure popup__figure_form\">\r\n                <img className=\"popup__image popup__image_opened\" src={link}\r\n                    alt={name}\r\n                />\r\n                <p className=\"popup__figcaption\">{name}</p>\r\n                <button className=\"popup__button-esc\" type=\"button\">\r\n                    <img src={esc} alt=\"кнопка закрытия \" className=\"popup__esc popup__esc_image\" onClick={onClose}\r\n                    />\r\n                </button>\r\n            </section>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { api } from '../utils/api.js';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport ConfirmDelete from './ConfirmDelete';\nimport ImagePopup from './ImagePopup';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = React.useState(false);\n  const [cardToDelete, setCardToDelete] = React.useState({});\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isLoading, setLoading] = React.useState();\n  const [selectedCard, setSelectedCard] = React.useState({\n    isImageOpen: false,\n    link: '',\n    name: '',\n  });\n\n  React.useEffect(() => {\n    Promise.all([api.getInitialCards(), api.getUserInfo()])\n      .then((res) => {\n        setCurrentUser(res[1]);\n        setCards(res[0]);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleConfirm() {\n    api\n      .deleteCard(cardToDelete._id)\n      .then(() => {\n        setCards(cards.filter((item) => item !== cardToDelete));\n        closeAllPopups();\n      }\n      )\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    setConfirmPopupOpen(true);\n    setCardToDelete(card);\n  }\n\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    const { link, name } = card;\n    setSelectedCard({ isImageOpen: true, link: link, name: name });\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setConfirmPopupOpen(false);\n    setSelectedCard({\n      isImageOpen: false,\n      link: '',\n      name: '',\n    });\n  }\n\n  function handleUpdateUser(userData) {\n    setLoading(true);\n    api\n      .patchUserInfo(userData)\n      .then((newUser) => {\n        setCurrentUser(newUser);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setLoading(false));\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setLoading(true);\n    api\n      .patchAvatar(avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setLoading(false));\n  }\n\n  function handleAddPlace(card) {\n    setLoading(true);\n    api\n      .postCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setLoading(false));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          cards={cards}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          handleCardClick={handleCardClick}\n        />\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading} />\n        <ConfirmDelete\n          isOpen={isConfirmPopupOpen}\n          onClose={closeAllPopups}\n          onConfirmDelete={handleConfirm}\n        />\n        <ImagePopup\n          name={selectedCard.name}\n          link={selectedCard.link}\n          onClose={closeAllPopups}\n          isOpen={selectedCard.isImageOpen}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.querySelector('.page')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}